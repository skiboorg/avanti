(globalThis["webpackChunkrolf_wallet"]=globalThis["webpackChunkrolf_wallet"]||[]).push([[532],{75008:(e,o,n)=>{"use strict";n.d(o,{C:()=>i,d:()=>l});var t=n(13433),a=n(17779);const l=({seed:e,password:o})=>{const n={status:!0,seed:e},a=t.createCipher("aes192",o);return a.update(JSON.stringify(n),"utf8","hex")+a.final("hex")},i=({hash:e,password:o})=>{try{const n=t.createDecipher("aes192",o),a=n.update(e,"hex","utf8")+n.final("utf8"),l=JSON.parse(a);return!!l.status&&l.seed}catch(n){return a.log(n),!1}}},23532:(e,o,n)=>{"use strict";n.r(o),n.d(o,{default:()=>B});var t=n(59835),a=n(86970),l=n(744),i=n.n(l);const s=(0,t._)("img",{src:i()},null,-1),M=[s],y={key:1},u=(0,t._)("p",{class:"text-center text-weight-bold"},"или",-1);function c(e,o,n,l,i,s){const c=(0,t.up)("Login"),L=(0,t.up)("btn"),r=(0,t.up)("Register"),p=(0,t.up)("page-body"),g=(0,t.up)("page");return(0,t.wg)(),(0,t.j4)(g,null,{default:(0,t.w5)((()=>[(0,t.Wm)(p,{class:"q-px-lg flex column justify-center"},{default:(0,t.w5)((()=>[(0,t._)("div",{class:(0,a.C_)(["logo",{"logo-small":l.is_seed_good||l.hash}])},M,2),l.loginActive?((0,t.wg)(),(0,t.j4)(c,{key:0,onSeedGood:l.setSeed},null,8,["onSeedGood"])):(0,t.kq)("",!0),l.is_seed_good||!l.loginActive||l.hash?(0,t.kq)("",!0):((0,t.wg)(),(0,t.iD)("div",y,[u,(0,t.Wm)(L,{label:"Создать кошелек",outline:!1,onClick:o[0]||(o[0]=e=>l.loginActive=!1)})])),l.loginActive?(0,t.kq)("",!0):((0,t.wg)(),(0,t.j4)(r,{key:2,onOpenLogin:l.openLogin},null,8,["onOpenLogin"]))])),_:1})])),_:1})}n(46727);var L=n(60499),r=n(87270),p=n(75008),g=n(18910),d=n(96928),v=n(43463),P=n(44974);const S=(0,t._)("p",{class:"text-h6 text-bold text-center text-primary"},"Вход",-1),h={key:0},m={key:0,class:"flex column justify-between"},C={class:""},f={key:1,class:"pincode-tab"},N={__name:"Login",emits:["seedGood"],setup(e,{emit:o}){const n=(0,g.tv)(),a=(0,d.t)(),l=(0,v.s)(),i=(0,P.T)(),s=(0,L.iH)(""),M=(0,L.iH)(""),y=((0,L.iH)(!0),localStorage.getItem("hash"));async function u(e){const o=(0,p.C)({hash:y,password:e});o?(s.value=o,await c()):(0,r.d)("negative","Неверный пинкод")}async function c(){l.toggleLoadingState();const e=(0,p.d)({seed:s.value,password:M.value});await a.login(s.value,e);const o=localStorage.getItem("addresses");await i.connectWS(JSON.parse(o)[0].address),l.toggleLoadingState(),await n.push({name:"wallet_index"})}async function N(e){M.value=e,await c()}async function H(){await a.logout()}function b(e){const n=/^[A-Za-z0-9]+$/;return!!n.test(e)&&(o("seedGood",{val:[43,44,86,87,88].includes(e.length)}),[43,44,86,87,88].includes(e.length))}return(e,o)=>{const n=(0,t.up)("q-input"),a=(0,t.up)("pin-code"),l=(0,t.up)("q-btn");return(0,t.wg)(),(0,t.iD)(t.HY,null,[S,(0,L.SU)(y)?((0,t.wg)(),(0,t.iD)("div",f,[(0,t.Wm)(a,{showDigits:!1,onPincode_ready:u}),(0,t.Wm)(l,{rounded:"","no-caps":"",outline:"",flat:"",class:"full-width q-mt-md",onClick:H,size:"14px",dense:"",color:"negative",label:"Я забыл пин-код. Сбросить все данные"})])):((0,t.wg)(),(0,t.iD)("div",h,[(0,t.Wm)(n,{autofocus:"",outlined:"",modelValue:s.value,"onUpdate:modelValue":o[0]||(o[0]=e=>s.value=e),color:"primary",label:"Введите Ваш сид",rounded:"",rules:[e=>e&&e.length>0||"Это обязательное поле",e=>b(e)||"Введен не корректный сид"]},null,8,["modelValue","rules"]),b(s.value)?((0,t.wg)(),(0,t.iD)("div",m,[(0,t._)("div",C,[(0,t.Wm)(a,{showDigits:!0,onPincode_ready:N})])])):(0,t.kq)("",!0)]))],64)}}};var H=n(24455),b=n(13119),w=n(69984),x=n.n(w);const q=N,k=q;x()(N,"components",{QBtn:H.Z,QInput:b.Z});var A=n(99407);const W=(0,t._)("p",{class:"text-h6 text-bold text-center text-primary"},"Регистрация",-1),D={key:0,class:""},R=(0,t._)("p",{class:"text-weight-bold text-center text-negative"},"Убедитесь, что вы со всем согласны:",-1),F=["innerHTML"],U=(0,t._)("p",null,[(0,t._)("a",{target:"_blank",href:"https://wallet.rupay.pro/rupay_user_agreement.pdf"},"Пользовательское соглашение")],-1),V={key:1,class:""},Y={key:2,class:""},j=(0,t._)("p",null,"Ваш сид:",-1),O={style:{"word-break":"break-all"},class:"text-caption bg-grey-3 q-pa-md"},T=(0,t._)("p",{class:"text-caption text-negative q-pa-md text-weight-medium"}," Скопируйте или запишите ваш сид (секретный ключ) и сохраните его в максимально защищенном месте. Ни в коем случае не делитесь и никому не сообщайте ваш сид (секретный ключ)!!! ",-1),X={__name:"Register",emits:["openLogin"],setup(e,{emit:o}){const n=(0,d.t)(),l=(0,g.tv)(),i=(0,P.T)(),s=(0,L.iH)(1),M=(0,L.iH)(""),y=((0,L.iH)(!0),(0,L.iH)(!1)),u=(0,L.iH)(!1);let c=(0,L.iH)(null);const v=(0,L.iH)([{agree:!1,text:" Я согласен с тем, что доступ к сиду и ключам, имеется только у меня.\n     При утере сида, доступ к счетам  будет <strong>невозможно</strong> восстановить "},{agree:!1,text:" Я согласен с тем, что <strong>при передаче сида</strong>  третьим лицам,\n    я могу <strong>лишиться всех средств</strong> находящихся на счетах "},{agree:!1,text:"Я <strong>прочитал и согласен</strong> с пользовательским соглашением об общих условиях использования мобильного платежного приложения «RUPAY» "}]),S=(0,t.Fl)((()=>v.value[0].agree&&v.value[1].agree&&v.value[2].agree));function h(){o("openLogin")}async function m(e){M.value=e,await C()}async function C(){y.value=!y.value,c.value=await A.EraChain.Crypt.generateSeed(),y.value=!y.value,s.value=3}async function f(){y.value=!y.value;const e=(0,p.d)({seed:c.value,password:M.value});await n.login(c.value,e);const o=localStorage.getItem("addresses");await i.connectWS(JSON.parse(o)[0].address),await l.push({name:"wallet_index"}),y.value=!y.value}async function N(){await(0,r.Q)(c.value,"positive","Сид скопирован"),u.value=!0}return(e,o)=>{const n=(0,t.up)("q-toggle"),l=(0,t.up)("btn"),i=(0,t.up)("pin-code"),M=(0,t.up)("q-btn");return(0,t.wg)(),(0,t.iD)(t.HY,null,[W,1===s.value?((0,t.wg)(),(0,t.iD)("div",D,[R,((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(v.value,((e,o)=>((0,t.wg)(),(0,t.j4)(n,{modelValue:v.value[o].agree,"onUpdate:modelValue":e=>v.value[o].agree=e,"checked-icon":"check",color:"green","unchecked-icon":"clear",class:"text-caption q-mb-md",style:{"line-height":"110%"}},{default:(0,t.w5)((()=>[(0,t._)("p",{class:"no-margin",innerHTML:e.text},null,8,F)])),_:2},1032,["modelValue","onUpdate:modelValue"])))),256)),U,(0,L.SU)(S)?((0,t.wg)(),(0,t.j4)(l,{key:0,label:"Продолжить",onClick:o[0]||(o[0]=e=>s.value=2),type:"submit",outline:!1})):(0,t.kq)("",!0)])):(0,t.kq)("",!0),2===s.value?((0,t.wg)(),(0,t.iD)("div",V,[(0,t.Wm)(i,{showDigits:!0,onPincode_ready:m}),(0,t._)("div",{class:"text-center q-mt-md"},[(0,t._)("p",{class:"text-caption no-margin",onClick:h},"У меня есть сид")])])):(0,t.kq)("",!0),3===s.value?((0,t.wg)(),(0,t.iD)("div",Y,[j,(0,t._)("p",O,(0,a.zw)((0,L.SU)(c)),1),(0,t.Wm)(M,{rounded:"",outline:"",onClick:N,"no-caps":"",label:"Скопировать сид",unelevated:"",color:"primary",class:"full-width q-mb-md"}),T,(0,t.Wm)(l,{label:u.value?"Продолжить":"Для продолжения скопируйте сид",disabled:!u.value,is_loading:y.value,onClick:f,type:"submit",outline:!1},null,8,["label","disabled","is_loading"])])):(0,t.kq)("",!0)],64)}}};var J=n(23175);const E=X,K=E;x()(X,"components",{QToggle:J.Z,QBtn:H.Z});const G={name:"IndexPage",components:{Register:K,Login:k},preFetch({redirect:e,router:o}){localStorage.getItem("seed")},setup(){const e=(0,L.iH)(!0),o=(0,L.iH)(!1),n=localStorage.getItem("hash");function t(e){o.value=e.val}function a(n){o.value=!1,e.value=!0}return{loginActive:e,is_seed_good:o,hash:n,setSeed:t,openLogin:a}}};var Q=n(11639);const I=(0,Q.Z)(G,[["render",c]]),B=I},744:e=>{e.exports="data:image/png;base64,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"}}]);